
2) Обновить саундфонт, а так же рендер из mtherapp
3) Сделать полное review tab, const корректность и прочие нюансы
4) Возможно перенести миди генерацию из mtherapp
5) Возможно избавиться от излишних указателей в ядре tabs

6) Разделить таблатуру и поток комманд, сделать промежуточную сущность
































    Cборка происходит, но к сожалению приложение на android пока что выглядит пустым

    Перепроверить изменения и бенды после ближайших изменений (на Win)!

    Проверить буфер обмена + починить реверс удаления выделенной области

    Наверное что таблатура знает как сама себя сохранять это ошибка
    Нужна какая-то ещё абстракция над таблатурой, которая хранить таблатуру,
    Хранит комманды. Тогда можно будет избавиться от всех Tab* без этого - пока невозможно

        3) tests midi\tab->midi : greatCheck() : scenario.cpp
        4) sf2 generation: midirender gtab3, timidity config?
        5) gb0 tests run
        6) full base tests
        7) remove types.h\cpp
        8) statistic: fret, note (exact + key), note length, pause length,

        9) wav recorder \ loader \ recognizer - console access to sf generated audio
        Новое распознавание, которое используют только ритмическое распознавание и мелодическое.
        Гармония\аккорды пока проигнорировать, сделать быстро и красиво.

        10) g0 lib: std c++ gtab, midi, action stream (edit, redo\undo, copy\cut), MIT
        11) QML components
            a) GTab\GTrack\GBar
            b) Piano roll
            c) Pattern input
            d) Graph map
            e) Tuner
        12) C++ qml engine, that can be loaded as dynamic lib


Main function done
Main end reached
QThread: Destroyed while thread is still running



Old things:

Информация об эффектах и функциях интерфейса
(сохранить).

        *полный список других
                {
                        1) акцентирования (просто и хэви)
                        2) лет ринг
                        3) фладжалеты  а) натуральные
                        4) тремоло
                        5) трель (тут может и нужен)
                        6) пальм мьют
                        7) стокатто
                        8) теп слеп поп
                        9) фейд ин
                        10) направление медиатора вверх или вниз
                }
        б) эффекты требующие ввода
        {
                1) бенд
                2) фладж б) искуственные
                3) чорд диаграм
                4) текст
                5) микс тейбл
                6) пальцы
                7) ап даун по всем струнам проходилка
        }
(сохранить информацию внутри проекта)
3) базовый ввод: track view
        а) нахождение всех функций используемых для базового ввода
        {
                1) установка точки
                2) установка триолей (вначале можно только лишь их)
                3) установка лиги
                4) установка громкости
                5) установка дед ноты Х
        }
        б) документирование или реализация их
        {
                *триоли в эноли
        }
        в) прочие функции (например tab view)
        {
                0) добавление и отображение маркера
                1) установка размера такта
                2) установка реприз (начала и конец)
                3) установка бпм (кстати тапать тоже круто там бы)
                4) смена инструмента
                5) смена громкости\панорамы
                6) смена названия
                7) Альт концовки* и их отображение!
                8) строй трека + число ладов
        }
        г) буфер обмена
        {
                1) одиночный
                *механизм выделения
                2) множественный
                *механизм переключения между ними
        }

....
Запись звука с микрофона

Можно так:

Declare Function mciSendString Lib "winmm.dll" Alias "mciSendStringA" ( _
     Byval lpstrCommand As String, _
     Byval lpstrReturnString As String, _
     Byval uReturnLength As Long, _
     Byval hwndCallback As Long) As Long
Print "If cancel record, press any key"
mciSendString("open new type waveaudio alias mywav", "", 0, 0)
mciSendString("record mywav", "", 0, 0)
Sleep
mciSendString("stop mywav", "", 0, 0)
mciSendString("save mywav c:\cdtest.wav", "", 0, 0)
mciSendString("close mywav", "", 0, 0)

Или так:

Declare Function mciSendString Lib "winmm.dll" Alias "mciSendStringA" ( _
     Byval lpstrCommand As String, _
     Byval lpstrReturnString As String, _
     Byval uReturnLength As Long, _
     Byval hwndCallback As Long) As Long
Print "If cancel record, press any key"
mciSendString("OPEN NEW TYPE WAVEAUDIO ALIAS rec", "", 0, 0)
mciSendString("set rec bitspersample 8 samplespersec 8000 channels 1", "", 0, 0)
mciSendString("record rec", "", 0, 0)
Sleep
mciSendString("STOP rec", "", 0, 0)
mciSendString("SAVE rec temp.wav", "", 0, 0)
mciSendString("CLOSE rec", "", 0, 0)

Старые мысли:
1) довести и стандартизировать G0
        *проклятая генерация миди файлов
        *собственный формат с контролем версий

2) разработать интерфейс
        * отображение таблатуры
        * синхронное отображению - воспроизведение
        * зачатки возможностей - заметки на полях, множественные буферы обмена, тестирования
3) элементы ввода
        *pattern
        *piano roll
        *настукивание ритма
        *зачаток нотного редактора
        *зачаток формы распознавания записанного
4) база данных таблатур
        *грабер
        *упаковщик\распаковщик
5) последние фазы
        *экспорт и импорт распространенных форматов
        *замечания и предложения


QPrinter printer;
        printer.setOutputFormat( QPrinter::PdfFormat );
        printer.setPageSize( QPrinter::A4 );
        printer.setOrientation( QPrinter::Landscape );
        printer.setOutputFileName( "test.pdf" );
        printer.setPageMargins( 20, 20, 15, 10, QPrinter::Millimeter );
        QPainter painter;
        QFont font;
        font.setStyleHint( QFont::TypeWriter ); // игнорируется, какой шрифт не задай, печатает только гельветикой
        // font.setFamily( "Courier" ); // тоже по барабану
        // ради эксперимента написал:
        font.setUnderline( true ); // и это проигнорировалось...
        painter.setFont( font );
        if( ! painter.begin( &printer ) )
                return 1;
        QTextCodec::setCodecForTr( QTextCodec::codecForName( "Windows-1251" ) );
        painter.drawText( 0,  0, QObject::tr( "Проверка русских and latinic!" ) );
        painter.drawText( 0, 20, QObject::tr( "Но шрифт не моноширинный" ) );

        if( ! printer.newPage() )
                return 1;

        return 0;


/*
void checkBase()
{

    if (CONF_PARAM("onloadBaseCheck")=="1")
    {

        return; //release version
        QString testsLoc = AConfig::getInstance().testsLocation + QString("gb");//QString("gtp")
        //
        QDir    curDir(testsLoc);

        QStringList filters;
        QString filter = "*";  filters.push_back(filter); //all files yet, then refact good
        QStringList files = curDir.entryList(filters,QDir::Files | QDir::NoSymLinks);
        //QDir::Dirs  - search also for sub directories
        QStringList outputList;

        std::map<std::string,std::string> mdCheckList



        for (size_t i = 166156; i < files.size(); ++i)
        {
            QString fileName = testsLoc +QString("/")+ files[i];


            QFile baseFile(fileName);
            baseFile.setFileName(fileName);
            if (baseFile.open(QIODevice::ReadOnly) == true)
            {
                QByteArray wholeFile = baseFile.readAll();
                baseFile.close();

                int fileSize = wholeFile.size();

                QCryptographicHash mdfiver(QCryptographicHash::Md5);

                mdfiver.reset();
                mdfiver.addData(wholeFile);
                QString mdsum = mdfiver.result().toHex();

                ///+testsLoc
                  sX;

                int fileType = sayType(wholeFile);


                std::string md5Std = mdsum.toStdString();



                if (mdCheckList.find(md5Std)!=mdCheckList.end())
                {
                    qDebug() << "ATTENTION MD5 is same !!!";
                }
                else
                {
                    std::string fnStd = files[i].toStdString();
                    mdCheckList.insert(std::pair<std::string,std::string>
                                       (md5Std,fnStd));
                }


                sX<<(i+1)<<" "<<fileName.toStdString()<<" "<<fileSize<<" "<<mdsum.toStdString()<<" "<<fileType<<"\n";
                //missing file type gtp gmy ptb etc

                qDebug()<<sX.c_str();
                qDebug()<<"+";
                QString newLine = sX.c_str();
                outputList.push_back(newLine);

                if ((fileType>=3) && (fileType <=5))
                {

                    GTabLoader tabLoader;

                    std::string fnStd = fileName.toStdString();

                    if (tabLoader.open(fnStd) == true)
                    {
                        auto& tab = tabLoader.getTab();
                        qDebug() << "Tab bpm "<<tab->getBPM();
                    }


                    //gtps
                    //slow and stupid but noe exceed code rigt now
                }
            }
            else
            {
                qDebug() <<"ERROR oppening file "<<fileName.toStdString().c_str();;
            }

        }
    }

} */
